---
sidebar_position: 2
sidebar_label: 'Экспорт по шаблону'
---

# Как настроить регулярный экспорт по шаблону

Регулярный экспорт позволяет выгружать контакты и другие данные подписчиков из Sendsay в файл формата CSV, XLSX, HTML или JSON по указанному расписанию в указанное место.

[Другие способы экспорта данных и контактов](https://docs.sendsay.ru/subscribers/import-and-export/how-to-export-contacts-in-the-new-interface)

:::tip Важно
При экспорте контактов и данных подписчиков в файл формата XLSX стоит учитывать, что такой файл поддерживает 1 048 576 строк на лист.
:::

Чтобы настроить регулярный экспорт, перейдите в раздел [**Подписчики → Экспорт**](https://app.sendsay.ru/subscribers/export) и нажмите «Создать регулярный экспорт»:

![How to export](/img/automations/autoimport/how-to-set-autoexport/how-to-export.png)

1. На шаге **Аудитория для экспорта** нажмите «Изменить»:

   - если вы хотите выгрузить данные всех подписчиков из базы, укажите **Экспорт по всем подписчикам**,
   - в случае если необходимо выгрузить данные подписчиков из списков или сегментов, укажите списки или сегменты, но не более 5.

   ![Export audience](/img/automations/autoimport/how-to-set-autoexport/export-audience.gif)

2. На шаге **Параметры экспорта** выберите, куда выгружать данные подписчиков:

   - В папку **Отчёты**, которая находится в разделе [**Рассылки → Файлы**](https://app.sendsay.ru/campaigns/files). При выборе этого пункта файл с выгруженными данными будет храниться в системе 90 дней, после чего автоматически удалится.
   - Отправить на почту — здесь можно указать почту и выбрать формат файла CSV, XLSX, HTML или JSON.
   - На внешний ресурс по протоколу `http` (или `https`).
   - На внешний ресурс по протоколу `ftp` (или `ftps`).<br/><br/>

   :::tip Важно
   При выгрузке данных на внешний ресурс по протоколу `ftp` (или `ftps`) поддерживается стандартная запись ссылки с указанием логина и пароля в формате `ftp://username:password@my-ftp.com`.<br/><br/>Чтобы скрыть логин и пароль, вы можете [создать внешнюю аутентификацию](https://sendsay.ru/api/api.html#Создание-внешней-аутентификации) — тогда ссылка будет выглядеть так:<br/>`ftp://authext:<id_авторизации>@my-ftp.com`
   :::

   Нажмите «Далее», укажите имя файла и необходимые настройки. Имя файла должно быть уникальным, поэтому рекомендуем использовать дату и время экспорта в названии файла.

3. На шаге **Данные для экспорта** в полях укажите [данные анкет](https://docs.sendsay.ru/subscribers/subscriber-data/data-groups), которые необходимо экспортировать:

   ![Subscriber data](/img/automations/autoimport/how-to-set-autoexport/subscriber-data.gif)

   При необходимости:

   - укажите, если нужно декодировать ответы на вопросы со множественным выбором. Например, поле «Пол» `base.gender` имеет два значения: «женский» (1) и «мужской» (2). При включенном декодировании в таблице будет использованы значения «женский»/«мужской», а не «1»/«2»
   - добавьте в таблицу заголовки граф, используя коды или названия полей.

   Нажмите «Сохранить». Чтобы убедиться, что выгруженные данные будут выглядеть именно так, как вы ожидаете, нажмите «Предпросмотр таблицы».

4. На шаге **Расписание** выберите периодичность и время экспорта:

   - если контакты должны загружаться ежедневно, укажите время,
   - если контакты должны загружаться еженедельно, укажите дни недели и время,
   - если контакты должны загружаться ежемесячно, укажите число месяца и время экспорта.

5. На шаге **Дополнительные настройки** при необходимости укажите, куда отправить уведомление о завершении экспорта.

6. Когда все шаги заполнены, нажмите «Активировать».

Автоматический экспорт начнётся по расписанию после активации. Его можно остановить в любой момент — для этого на странице экспорта нажмите «На паузу».

**Читайте также**:<br/>
[Как экспортировать контакты и данные в новом интерфейсе](https://docs.sendsay.ru/subscribers/import-and-export/how-to-export-contacts-in-the-new-interface)
