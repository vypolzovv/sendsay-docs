---
sidebar_position: 7
sidebar_label: 'Снизилась цена в корзине'
description: Письмо приходит сразу после поступления информации о снижении цены на товар в корзине.
recent_article:
  new: true
---

import Details from '@theme/Details';
import SupportLink from '@site/src/components/SupportLink';

# Снизилась цена на товар в корзине

Снизилась цена на товар в корзине — это механика автоматической коммуникации с покупателями, которая помогает проинформировать клиентов об изменении цены на товары, добавленные в корзину. Такое письмо приходит сразу после поступления в систему информации о снижении цены. Сценарий доступен в [платной версии](https://docs.sendsay.ru/ecom/how-to-connect-ecom/#возможности-версий) Sendsay Продажи.

:::note Как это работает
_Пользователь добавил товар в корзину, но не оформил заказ → в систему поступает событие Стоимость товара изменилась → событие запускает автоматический сценарий → сценарий сразу отправляет письмо с информацией о товаре_
:::

Если посетитель сайта что-то оставил в корзине, значит он заинтересован товаром. Поэтому основные задачи писем о снижении цены — своевременно проинформировать, вернуть подписчика на сайт и подтолкнуть к покупке. В письмах можно закрыть возможные возражения: например, рассказать о пользе товара, способах оплаты, условиях доставки и возврата.

Для запуска сценария о снижении цены на товар в корзине необходимо:

1. В разделе **Продажи** [подключить сайт онлайн-магазина](https://docs.sendsay.ru/ecom/how-to-connect-ecom/#как-подключить-сайт-кмодулю).
2. [Установить на сайт скрипт отслеживания](https://docs.sendsay.ru/ecom/how-to-connect-ecom/#2-настройте-передачу-данных-ссайта-вsendsay).
3. Настроить передачу событий [_Обновление корзины_](https://docs.sendsay.ru/ecom/how-to-configure-data-transfer/#действия-с-корзиной) и [_Стоимость товара изменилась_](https://docs.sendsay.ru/ecom/how-to-configure-data-transfer/#добавление-обезличенных-событий).
4. [Подключить сценарий](#как-подключить-сценарий) в разделе **Продажи → Сценарии**.
5. Добавить шаблоны писем.
6. Активировать сценарий.

Сценарий будет запускаться каждый раз при снижении цены на товар, пока этот товар находится в корзине. Пользователь не попадёт в сценарий, если в течение 24 часов до наступления события _Стоимость товара изменилась_ он уже проходил этот или любой другой сценарий раздела **Продажи**, либо совершил заказ.

:::tip Важно
Для настройки передачи событий необходимы навыки программирования. Обратитесь к разработчику вашего сайта, если не обладаете такими навыками.
:::

<Details summary='Настройка передачи событий'>

Событие _Обновление корзины_ нужно передавать во всех точках сайта, где пользователь может взаимодействовать с корзиной (изменение количества товара, удаление, очистка корзины). Для каждого сайта набор таких точек будет индивидуальный.

Рекомендуемые параметры в событии:

| Имя         |      Описание      |       Тип данных       |                              Комментарий                              |
| :---------- | :----------------: | :--------------------: | :-------------------------------------------------------------------: |
| id          |     id товара      |         String         |                              обязательно                              |
| qnt         |     количество     |         Int64          |                              обязательно                              |
| price       |        цена        | Nullable(Decimal64(2)) |                              обязательно                              |
| old_price   |    старая цена     | Nullable(Decimal64(2)) |                                                                       |
| name        |  название товара   |         String         |                             рекомендуется                             |
| category    | название категории |         String         |                             рекомендуется                             |
| category_id |    id категории    |         Int64          |                             рекомендуется                             |
| picture     |      картинка      |     Array(String)      |               рекомендуется, массив, абсолютная ссылка                |
| url         |  ссылка на товар   |         String         |                   рекомендуется, абсолютная ссылка                    |
| cp1…cp20    | произвольное поле  |         String         | для дополнительных параметров товара (например, цвет, размер и т. п.) |

Проверить поступление событий в систему можно в разделе **Продажи → Просмотр событий** с фильтрацией по нужному событию. Актуальную корзину можно посмотреть в [карточке подписчика](https://docs.sendsay.ru/ecom/ecom-triggers/#как-посмотреть-историю-событий-для-конкретного-подписчика):

![Subscription card](/img/automations/triggers/abandoned-cart/subscription-card.png)

[Инструкция по настройке событий корзины](https://docs.sendsay.ru/ecom/how-to-configure-data-transfer#действия-с-корзиной)

Настройка передачи события _Стоимость товара изменилась_ — обязательный шаг для запуска сценария о снижении цены. Событие передаётся через Sendsay API, без привязки к email-адресам пользователей. Событие _Снижение цены_ наступит, если в переданном событии значение параметра `price` меньше значения `old_price`.

[Как передавать данные через Sendsay API](https://docs.sendsay.ru/ecom/how-to-configure-data-transfer/#добавление-данных-через-sendsay-api)

Рекомендуемые данные о товаре в событии _Стоимость товара изменилась_:

| Имя       |     Описание      |       Тип данных       |                             Комментарий                              |
| :-------- | :---------------: | :--------------------: | :------------------------------------------------------------------: |
| id        |     id товара     |         String         |                             обязательно                              |
| name      |  название товара  |         String         |                            рекомендуется                             |
| price     |       цена        | Nullable(Decimal64(2)) |           обязательно (должно быть меньше, чем old_price)            |
| old_price |    старая цена    | Nullable(Decimal64(2)) |                             обязательно                              |
| picture   |     картинка      |     Array(String)      |               рекомендуется, массив, абсолютная ссылка               |
| url       |  ссылка на товар  |         String         |                   рекомендуется, абсолютная ссылка                   |
| cp1…cp20  | произвольное поле |         String         | для дополнительных параметров товара (например, цвет, размер и т.п.) |

Полный перечень возможных параметров и тип данных указан в [инструкции](https://docs.sendsay.ru/ecom/how-to-configure-data-transfer/#набор-доступных-полей).

</Details>

## Как подключить сценарий

В Sendsay есть готовый сценарий с предустановленной логикой для отправки письма о снижении цены на товар. Ничего дополнительно настраивать не нужно — вам необходимо только подготовить дизайн письма.

Вы можете использовать готовый шаблон письма, где уже настроен автоматический вывод информации о товаре. Шаблоны писем и товарных блоков можно посмотреть в разделе **Контент → Название сайта** после подключения сценария.

Также вы можете использовать свой шаблон письма: для этого добавьте в вёрстку [правила вывода товара](https://docs.sendsay.ru/ecom/ecom-proscript#снизилась-цена-на-товар-в-корзине).

Чтобы подключить сценарий:

1. Перейдите в раздел **Продажи → Сценарии**, выберите сценарий **Снизилась цена на товары в корзине** и нажмите «Подключить».
2. Нажмите «Просмотр» и откройте сценарий. Перейдите во вкладку **Настройки**.
3. На шаге **Письмо 1** нажмите «Редактировать» и [отредактируйте шаблон письма](https://docs.sendsay.ru/ecom/ecom-triggers/#1-отредактируйте-письмо).
4. [Активируйте](https://docs.sendsay.ru/ecom/ecom-triggers/#как-активировать-сценарий) сценарий.

:::tip Важно
Данные товара передаются в специальные параметры сценария, поэтому протестировать отображение данных в письме можно только через запуск сценария. <SupportLink>Напишите в чат поддержки</SupportLink>, и мы включим режим тестирования для ваших адресов.
:::

Чтобы стимулировать покупку, расскажите в письме о пользе товара или предложите какой-то бонус: например, бесплатную доставку. Ограниченное по времени предложение сработает на эффект срочности. Добавьте призыв к действию, отражающий суть письма и его цель: обычно это кнопка для перехода к товару.

Если вам нужна помощь с настройкой сценария, <SupportLink>напишите в чат поддержки</SupportLink>: наша команда поможет с настройкой событий и тестированием сценариев, а также с запуском необходимых механик.
