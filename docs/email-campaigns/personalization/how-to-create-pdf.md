---
sidebar_position: 11
sidebar_label: 'Как создать PDF из шаблона письма'
---

import SupportLink from '@site/src/components/SupportLink';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Как создать персонализированное PDF-вложение из шаблона письма

Вы можете отправить массовую рассылку с PDF-вложениями, которые система создаст и персонализирует прямо в момент отправки выпуска. Для этого не нужен готовый файл, система сама сформирует вложение и подставит в него данные.

Всю информацию о том, как должно выглядеть PDF-вложение, нужно указать в отдельном шаблоне. Для этого потребуются знания HTML или готовый шаблон документа в этом формате.

Вот пример того, как получатели увидят такую рассылку:

![Message with pdf](/img/email-campaigns/personalization/how-to-create-pdf/message-with-pdf.gif)

Создание PDF-вложений в рассылке удобно ещё и тем, что не нужно заранее готовить персонализированные файлы для каждого подписчика: достаточно добавить команды персонализации в HTML-шаблон, и нужные данные подставятся в документ.

[Персонализация в HTML](https://docs.sendsay.ru/email-campaigns/personalization/how-to-personalize-campaign/#персонализация-в-html)

:::tip Важно
Генерация PDF-вложений — это дополнительная возможность, которая подключается и оплачивается отдельно. Для уточнения подробностей <SupportLink>напишите в чат поддержки</SupportLink>.
:::

Чтобы отправить выпуск с генерацией PDF-вложения:

## 1. Создайте шаблон выпуска, который увидят подписчики

Перейдите в раздел [**Рассылки** → **Черновики**](https://app.sendsay.ru/campaigns) и создайте новый выпуск с типом **Email**.

![Make new release](/img/email-campaigns/personalization/how-to-create-pdf/make-new-release.gif)

Выберите получателей рассылки, настройте содержимое, укажите отправителя и тему письма, но пока не отправляйте рассылку.

[Как создать письмо в блочном редакторе](https://docs.sendsay.ru/email-campaigns/create-your-campaign/drag-and-drop-editor/)

Перед отправкой к этому шаблону нужно будет прикрепить HTML-шаблон вложения.

## 2. Создайте HTML-шаблон для PDF-вложения

Чтобы система распознала, как будет выглядеть PDF-вложение, необходимо создать ещё один шаблон в формате HTML, повторяющий дизайн прикрепляемого документа. Из этого шаблона при отправке выпуска автоматически сформируется вложенный документ.

Чтобы создать шаблон:

1. Перейдите в раздел [**Рассылки** → **Черновики**](https://app.sendsay.ru/campaigns) и создайте ещё один выпуск с типом **Email**. В этом шаблоне не нужно указывать аудиторию, отправителя и дополнительные настройки.

2. Откройте HTML-редактор и создайте или [загрузите шаблон](https://docs.sendsay.ru/email-campaigns/create-your-campaign/how-to-upload-html-template/), визуально повторяющий PDF-вложение, которое будет приложено к выпуску. 
   <br/><br/>![Html editor](/img/email-campaigns/personalization/how-to-create-pdf/html-editor.png)

Для оформления контента в шаблоне используйте стандартный синтаксис HTML-разметки. Также в шаблоне можно использовать [команды персонализации ProScript](https://docs.sendsay.ru/proscript/proscript-in-a-nutshell/), для подстановки данных подписчика.

Если часть информации нужно перенести на другую страницу PDF-вложения, используйте в шаблоне элемент:

```
<div style="page-break-before:always"></div>
```

Закончив оформление шаблона, скопируйте его id. Увидеть id шаблона можно в адресной строке:

![Draft number](/img/email-campaigns/personalization/how-to-create-pdf/draft-number.png)

## 3. Укажите HTML-шаблон при создании выпуска и отправьте рассылку

HTML-шаблон файла нужно указать в параметрах рассылки выпуска, который вы создали в п.1. На его основе система создаст и прикрепит к выпуску PDF-вложение.

Это можно сделать при отправке через API или в предыдущем интерфейсе:

<Tabs>
<TabItem value="key1" label="В API-консоли" default>

Если вы отправляете выпуск через API-консоль или из своей системы, в запросе `issue.send` укажите номер шаблона, из которого будет формироваться PDF:

```
{
    "attaches": [
        {
            "pdf": "id шаблона"
        }
    ]
}
```

</TabItem>
  
<TabItem value="key2" label="В предыдущем интерфейсе" default>

1. Перейдите в предыдущий интерфейс по [ссылке](https://sendsay.ru/account/#dashboard), либо откройте меню аккаунта в правом верхнем углу и выберите пункт **Предыдущий интерфейс**.
2. Откройте шаблон выпуска и внизу нажмите «Прикрепить файлы».
   <br/><br/>![How to attach files](/img/email-campaigns/personalization/how-to-create-pdf/how-to-attach-files.png)

3. Нажмите «Создать из черновика», выберите формат PDF и укажите черновик, на основе которого будет формироваться файл.
   <br/><br/>![Create pdf](/img/email-campaigns/personalization/how-to-create-pdf/create-pdf.gif)

</TabItem>
</Tabs>

Прикрепив шаблон вложения к выпуску, отправьте рассылку подписчикам.

**Читайте также**:<br/>
[Как отправить массовую email-рассылку](https://docs.sendsay.ru/email-campaigns/create-your-campaign/how-to-send-email-campaign/)
