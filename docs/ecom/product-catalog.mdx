---
sidebar_position: 6
sidebar_label: 'Каталог товаров'
---

# Как подключить каталог товаров

Каталог товаров необходимо подключить, чтобы в письма подгружались актуальные товары, а&nbsp;также для работы триггерных сценариев для онлайн-продаж.

:::tip Важно
Для корректного отображения в&nbsp;письмах товаров из&nbsp;каталога необходимо, чтобы id&nbsp;товара в&nbsp;событии совпадал с&nbsp;id&nbsp;в&nbsp;YML-файле каталога товаров.
:::

Для подключения каталога товаров:

1. Перейдите в&nbsp;раздел **Продажи &rarr; Товары** на&nbsp;странице сайта и&nbsp;нажмите кнопку &laquo;Загрузить каталог&raquo;:

   ![How to connect the product catalog](/img/ecom/product-catalog/product-catalog.png)

2. В&nbsp;появившемся окне укажите ссылку на&nbsp;каталог товаров в&nbsp;формате .yml или .xml, затем нажмите &laquo;Начать загрузку&raquo;.

   Загрузка каталога займёт некоторое время&nbsp;&mdash; вы&nbsp;можете следить за&nbsp;этим в&nbsp;[**Журнале заданий**](https://app.sendsay.ru/queue). Если файл будет недоступен, система выдаст ошибку импорта. Когда каталог товаров загрузится, во&nbsp;вкладке **Товары** появятся **Настройки импорта**:

   ![Import settings](/img/ecom/product-catalog/import-settings.png)

   Импорт в&nbsp;данном случае&nbsp;&mdash; это автоматическое обновление каталога товаров. Он&nbsp;обновляется три раза в&nbsp;сутки с&nbsp;периодичностью в&nbsp;восемь часов.

   В&nbsp;правом верхнем углу есть кнопка &laquo;На&nbsp;паузу&raquo;&nbsp;&mdash; она приостановит импорт каталога товаров, и&nbsp;он&nbsp;перестанет обновляться.

## Как изменить адрес файла для каталога товаров

1. В&nbsp;боковом меню перейдите в&nbsp;раздел **Продажи &rarr; Товары**.
2. Откройте список у кнопки &laquo;На&nbsp;паузу» и&nbsp;выберите пункт **Изменить адрес файла**:

   ![Change the address of the file](/img/ecom/product-catalog/change-address-of-file.png)

3. В&nbsp;появившемся окне добавьте ссылку на&nbsp;новый каталог товаров и&nbsp;нажмите &laquo;Сохранить&raquo;.

После загрузки нового файла в&nbsp;**Настройках импорта** вы&nbsp;увидите предупреждение о&nbsp;необходимости обновить данные в&nbsp;шаблонах писем.

## Как обновить данные в&nbsp;шаблонах писем

Если вы&nbsp;изменили адрес файла для каталога товаров, необходимо вручную обновить данные в&nbsp;шаблонах писем. Для этого:

1. В&nbsp;боковом меню перейдите в&nbsp;раздел **Продажи &rarr; Товары**.
2. В **Настройках импорта** скопируйте ссылку на&nbsp;файл:

   ![Address of the file](/img/ecom/product-catalog/address-of-file.png)

3. После этого перейдите в&nbsp;раздел **Контент &rarr; Все шаблоны** и&nbsp;выберите шаблон письма, который нужно обновить.
4. На&nbsp;шаге **Письмо** нажмите &laquo;Редактировать&raquo;&nbsp;&mdash; откроется HTML-версия шаблона.
5. В&nbsp;HTML-коде найдите строчку формата:

   ```
   [% external_extra("https://mysite.ru/catalog.yml","method","get","ignore_error","1","format","yml") %]
   ```

   ​где `https://mysite.ru/catalog.yml` — ссылка на&nbsp;файл с&nbsp;каталогом товаров.

6. Замените ссылку на&nbsp;файл с&nbsp;каталогом товаров на&nbsp;актуальную:

   ![How to replace a link](/img/ecom/product-catalog/how-to-replace-link.gif)

7. Нажмите &laquo;Сохранить&raquo; в&nbsp;правом верхнем углу экрана.
8. Если необходимо, повторите пункты с&nbsp;3&nbsp;по&nbsp;7&nbsp;для других шаблонов писем.

## Как вручную обновить каталог товаров

Каталог товаров автоматически обновляется три раза в&nbsp;сутки, однако вы&nbsp;можете обновить его вручную в&nbsp;любой момент, выполнив **Разовый запуск**.

:::tip Важно
Обновить каталог товаров вручную можно не&nbsp;чаще, чем раз в&nbsp;15&nbsp;минут.
:::

Как это сделать:

1. В&nbsp;боковом меню перейдите в&nbsp;раздел **Продажи &rarr; Товары**.
2. В **Настройках импорта** нажмите на выпадающее меню у кнопки &laquo;На&nbsp;паузу&raquo; и&nbsp;выберите пункт **Разовый запуск**:

   ![One-time star](/img/ecom/product-catalog/one-time-start.png)

Обновление может занять время&nbsp;&mdash; следите за&nbsp;ходом работы в&nbsp;[**Журнале заданий**](https://app.sendsay.ru/queue).

## Как удалить каталог товаров

Чтобы удалить каталог товаров, нужно удалить автоматический импорт. Для этого:

1. В&nbsp;боковом меню перейдите в&nbsp;раздел **Продажи &rarr; Товары**.
2. Нажмите на&nbsp;выпадающее меню кнопки &laquo;На&nbsp;паузу&raquo; и&nbsp;выберите пункт Удалить:

   ![How to delete catalog](/img/ecom/product-catalog/delete-catalog.png)

3. Подтвердите удаление автоматического импорта в&nbsp;открывшемся окне.

После удаления каталога товаров ранее импортированные данные будут недоступны, а&nbsp;товары в&nbsp;письмах не&nbsp;будут выводиться.

**Читайте также:** [Товарные рекомендации](https://docs.sendsay.ru/ecom/product-recommendations)
